(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function r(t){W=t}function i(t){U=t}function o(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(l)}}function s(){return function(){N(l)}}function a(){var t=0,e=new G(l),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=l,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(l,1)}}function l(){for(var t=0;R>t;t+=2){var e=V[t],n=V[t+1];e(n),V[t]=void 0,V[t+1]=void 0}R=0}function f(){try{var t=require,e=t("vertx");return N=e.runOnLoop||e.runOnContext,s()}catch(n){return c()}}function p(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function m(t){try{return t.then}catch(e){return et.error=e,et}}function y(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function v(t,e,n){U(function(t){var r=!1,i=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):A(t,n))},function(e){r||(r=!0,L(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,L(t,i))},t)}function b(t,e){e._state===Z?A(t,e._result):e._state===tt?L(t,e._result):k(e,void 0,function(e){g(t,e)},function(e){L(t,e)})}function _(t,n){if(n.constructor===t.constructor)b(t,n);else{var r=m(n);r===et?L(t,et.error):void 0===r?A(t,n):e(r)?v(t,n,r):A(t,n)}}function g(e,n){e===n?L(e,h()):t(n)?_(e,n):A(e,n)}function w(t){t._onerror&&t._onerror(t._result),C(t)}function A(t,e){t._state===X&&(t._result=e,t._state=Z,0!==t._subscribers.length&&U(C,t))}function L(t,e){t._state===X&&(t._state=tt,t._result=e,U(w,t))}function k(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+Z]=n,i[o+tt]=r,0===o&&t._state&&U(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?j(n,r,i,o):i(o);t._subscribers.length=0}}function E(){this.error=null}function T(t,e){try{return t(e)}catch(n){return nt.error=n,nt}}function j(t,n,r,i){var o,s,a,u,c=e(r);if(c){if(o=T(r,i),o===nt?(u=!0,s=o.error,o=null):a=!0,n===o)return void L(n,d())}else o=i,a=!0;n._state!==X||(c&&a?g(n,o):u?L(n,s):t===Z?A(n,o):t===tt&&L(n,o))}function S(t,e){try{e(function(e){g(t,e)},function(e){L(t,e)})}catch(n){L(t,n)}}function x(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(p),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?A(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&A(n.promise,n._result))):L(n.promise,n._validationError())}function O(t){return new rt(this,t).promise}function P(t){function e(t){g(i,t)}function n(t){L(i,t)}var r=this,i=new r(p);if(!K(t))return L(i,new TypeError("You must pass an array to race.")),i;for(var o=t.length,s=0;i._state===X&&o>s;s++)k(r.resolve(t[s]),void 0,e,n);return i}function M(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function I(t){var e=this,n=new e(p);return L(n,t),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Y(t){this._id=ut++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==t&&(e(t)||q(),this instanceof Y||H(),S(this,t))}function D(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=ct)}var F;F=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var N,W,z,K=F,R=0,U=({}.toString,function(t,e){V[R]=t,V[R+1]=e,R+=2,2===R&&(W?W(l):z())}),$="undefined"!=typeof window?window:void 0,B=$||{},G=B.MutationObserver||B.WebKitMutationObserver,J="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,V=new Array(1e3);z=J?o():G?a():Q?u():void 0===$&&"function"==typeof require?f():c();var X=void 0,Z=1,tt=2,et=new E,nt=new E;x.prototype._validateInput=function(t){return K(t)},x.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},x.prototype._init=function(){this._result=new Array(this.length)};var rt=x;x.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,i=0;n._state===X&&e>i;i++)t._eachEntry(r[i],i)},x.prototype._eachEntry=function(t,e){var r=this,i=r._instanceConstructor;n(t)?t.constructor===i&&t._state!==X?(t._onerror=null,r._settledAt(t._state,e,t._result)):r._willSettleAt(i.resolve(t),e):(r._remaining--,r._result[e]=t)},x.prototype._settledAt=function(t,e,n){var r=this,i=r.promise;i._state===X&&(r._remaining--,t===tt?L(i,n):r._result[e]=n),0===r._remaining&&A(i,r._result)},x.prototype._willSettleAt=function(t,e){var n=this;k(t,void 0,function(t){n._settledAt(Z,e,t)},function(t){n._settledAt(tt,e,t)})};var it=O,ot=P,st=M,at=I,ut=0,ct=Y;Y.all=it,Y.race=ot,Y.resolve=st,Y.reject=at,Y._setScheduler=r,Y._setAsap=i,Y._asap=U,Y.prototype={constructor:Y,then:function(t,e){var n=this,r=n._state;if(r===Z&&!t||r===tt&&!e)return this;var i=new this.constructor(p),o=n._result;if(r){var s=arguments[r-1];U(function(){j(r,i,s,o)})}else k(n,i,t,e);return i},"catch":function(t){return this.then(null,t)}};var lt=D,ft={Promise:ct,polyfill:lt};"function"==typeof define&&define.amd?define(function(){return ft}):"undefined"!=typeof module&&module.exports?module.exports=ft:"undefined"!=typeof this&&(this.ES6Promise=ft),lt()}).call(this),function(t,e){function n(){var t,n=e.createElement("fakeelement"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in r)if(r.hasOwnProperty(t)&&void 0!==n.style[t])return r[t]}var r=n(),i=function(t){this.attributes={duration:5e3,position:t?t.split(" "):["bottom"],msg:"",msgClass:"toast-content",okLabel:"",okClass:"toast-ok",cancelLabel:"",cancelClass:"toast-cancel",timeoutAction:"reject",clickAction:"resolve",transition:"fade"},this.template="",this.templates={basic:"<span class='{{ msgClass }}'>{{ msg }}</span>",dialog:"<span class='{{ msgClass }}'>{{ msg }}</span><a class='{{ okClass }}'>{{ okLabel }}</a><a class='{{ cancelClass }}'>{{ cancelLabel }}</a>",alert:"<a class='{{ msgClass }}'>{{ msg }}</a><a class='{{ okClass }}'>{{ okLabel }}</a>",undo:"<a class='{{ msgClass }}'>{{ msg }}</a><a class='{{ cancelClass }}'>{{ cancelLabel }}</a>"}};i.prototype.position=function(t){return this.attributes.postion=Array.isArray(t)?t:t.split(" "),this},i.prototype.handleTimeout=function(t,e){var n=this;parseInt(n.attributes.duration)>0&&setTimeout(function(){"reject"===n.attributes.timeoutAction?e("timeout"):t("timeout"),n.remove()},n.attributes.duration)},i.prototype.duration=function(t){return this.attributes.duration=parseInt(t),this},i.prototype.rejectOnTimeout=function(){return this.attributes.timeoutAction="reject",this},i.prototype.resolveOnTimeout=function(){return this.attributes.timeoutAction="resolve",this},i.prototype.getTemplate=function(){return this.template?this.template:this.template=this.attributes.okLabel&&this.attributes.cancelLabel?this.templates.dialog:this.attributes.okLabel?this.templates.alert:this.attributes.cancelLabel?this.templates.undo:this.templates.basic},i.prototype.template=function(t){return this.template=t,this},i.prototype.parse=function(){var t=this.getTemplate();for(var e in this.attributes)this.attributes.hasOwnProperty(e)&&(t=t.replace(new RegExp("{{ "+e+" }}","gi"),this.attributes[e]));return t},i.prototype.hide=function(){this.remove()},i.prototype.show=function(n){var r=this;r.attributes.msg=n;for(var i=e.querySelectorAll(".alertify.toast"),o=0;o<i.length;o++){var s=i.item(o);s.classList.add("hide"),s.classList.add(r.attributes.transition)}var a=new Promise(function(t,e){r.main();var n=r.element.querySelector("."+r.attributes.okClass);n&&n.addEventListener("click",function(e){r.hide(),t(e)});var i=r.element.querySelector("."+r.attributes.cancelClass);i&&i.addEventListener("click",function(t){r.hide(),e(t)}),n||i||r.element.addEventListener("click",function(n){"resolve"===r.attributes.clickAction?t(n):e(n),r.hide()}),r.handleTimeout(t,e)});return t.promise=a,a},i.prototype.duration=function(t){return this.attributes.duration=parseInt(t),this},i.prototype.remove=function(){var t=this;this.element&&(this.element.addEventListener(r,function(){console.log("transitionDone"),e.body.removeChild(t.element)}),this.element.classList.add("hide"))},i.prototype.transition=function(t){return this.attributes.transition=t||"fade",this},i.prototype.create=function(){this.element=e.createElement("div"),this.element.classList.add("alertify"),this.element.classList.add("toast"),this.element.classList.add("hide"),this.element.classList.add(this.attributes.transition);for(var t=0;t<this.attributes.position.length;t++)this.element.classList.add(this.attributes.position[t]);this.element.innerHTML=this.parse(),e.body.appendChild(this.element)},i.prototype.unHide=function(){var t=this,e=function(){console.log("shown"),t.element.removeEventListener(r,this)};this.element.classList.remove("hide"),this.element.addEventListener(r,e)},i.prototype.main=function(){this.create(),this.unHide()},i.prototype.content=function(t){return this.attributes.msg=t,this},i.prototype.ok=function(t){return this.attributes.okLabel=t||"Ok",this},i.prototype.cancel=function(t){return this.attributes.cancel=t||"Cancel",this},i.prototype.sheet=function(){var t=e.createElement("style");return t.appendChild(e.createTextNode(".alertify.toast{padding:0.5em 1em;background-color:rgba(0,0,0,0.67)}.alertify.toast,.alertify.toast a,.alertify.toast a:hover{color:#fff}.alertify.toast a:hover{cursor:pointer}.alertify.toast.fade{transition:all 1s;opacity:1}.alertify.toast.fade.hide{opacity:0}.alertify.toast.slide.bottom{bottom:0}.alertify.toast.slide.bottom.hide{bottom:-36px}.alertify.toast.slide.top{top:0}.alertify.toast.slide.top.hide{top:-36px}.alertify.toast.bottom{position:fixed;top:inherit !important;bottom:0;left:0;right:0}.alertify.toast.top{position:fixed;bottom:inherit !important;top:0;left:0;right:0}.alertify.toast.bottom.right,.alertify.toast.top.right{left:inherit !important}.alertify.toast.bottom.left,.alertify.toast.top.left{right:inherit !important}.alertify .toast-cancel,.alertify .toast-ok{float:right;margin-left:.5em;display:inline-block}\n")),e.head.appendChild(t),t.sheet}(),t.Toast=i}(window,document);