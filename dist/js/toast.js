!function(t,e){function i(){var t,i=e.createElement("fakeelement"),s={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in s)if(s.hasOwnProperty(t)&&void 0!==i.style[t])return s[t]}var s=i(),a=function(t){this.attributes={duration:5e3,position:t?t.split(" "):["bottom"],msg:"",msgClass:"toast-content",okLabel:"",okClass:"toast-ok",cancelLabel:"",cancelClass:"toast-cancel",timeoutAction:"reject",clickAction:"resolve",transition:"fade"},this.template="",this.templates={basic:"<span class='{{ msgClass }}'>{{ msg }}</span>",dialog:"<span class='{{ msgClass }}'>{{ msg }}</span><a class='{{ okClass }}'>{{ okLabel }}</a><a class='{{ cancelClass }}'>{{ cancelLabel }}</a>",alert:"<a class='{{ msgClass }}'>{{ msg }}</a><a class='{{ okClass }}'>{{ okLabel }}</a>",undo:"<a class='{{ msgClass }}'>{{ msg }}</a><a class='{{ cancelClass }}'>{{ cancelLabel }}</a>"}};a.prototype.position=function(t){return this.attributes.postion=Array.isArray(t)?t:t.split(" "),this},a.prototype.handleTimeout=function(t,e){var i=this;parseInt(i.attributes.duration)>0&&setTimeout(function(){"reject"===i.attributes.timeoutAction?e("timeout"):t("timeout"),i.remove()},i.attributes.duration)},a.prototype.duration=function(t){return this.attributes.duration=parseInt(t),this},a.prototype.rejectOnTimeout=function(){return this.attributes.timeoutAction="reject",this},a.prototype.resolveOnTimeout=function(){return this.attributes.timeoutAction="resolve",this},a.prototype.getTemplate=function(){return this.template?this.template:this.template=this.attributes.okLabel&&this.attributes.cancelLabel?this.templates.dialog:this.attributes.okLabel?this.templates.alert:this.attributes.cancelLabel?this.templates.undo:this.templates.basic},a.prototype.template=function(t){return this.template=t,this},a.prototype.parse=function(){var t=this.getTemplate();for(var e in this.attributes)this.attributes.hasOwnProperty(e)&&(t=t.replace(new RegExp("{{ "+e+" }}","gi"),this.attributes[e]));return t},a.prototype.hide=function(){this.remove()},a.prototype.show=function(i){var s=this;s.attributes.msg=i;for(var a=e.querySelectorAll(".alertify.toast"),o=0;o<a.length;o++){var n=a.item(o);n.classList.add("hide"),n.classList.add(s.attributes.transition)}var r=new Promise(function(t,e){s.main();var i=s.element.querySelector("."+s.attributes.okClass);i&&i.addEventListener("click",function(e){s.hide(),t(e)});var a=s.element.querySelector("."+s.attributes.cancelClass);a&&a.addEventListener("click",function(t){s.hide(),e(t)}),i||a||s.element.addEventListener("click",function(i){"resolve"===s.attributes.clickAction?t(i):e(i),s.hide()}),s.handleTimeout(t,e)});return t.promise=r,r},a.prototype.duration=function(t){return this.attributes.duration=parseInt(t),this},a.prototype.remove=function(){var t=this;this.element&&(this.element.addEventListener(s,function(){console.log("transitionDone"),e.body.removeChild(t.element)}),this.element.classList.add("hide"))},a.prototype.transition=function(t){return this.attributes.transition=t||"fade",this},a.prototype.create=function(){this.element=e.createElement("div"),this.element.classList.add("alertify"),this.element.classList.add("toast"),this.element.classList.add("hide"),this.element.classList.add(this.attributes.transition);for(var t=0;t<this.attributes.position.length;t++)this.element.classList.add(this.attributes.position[t]);this.element.innerHTML=this.parse(),e.body.appendChild(this.element)},a.prototype.unHide=function(){var t=this,e=function(){console.log("shown"),t.element.removeEventListener(s,this)};this.element.classList.remove("hide"),this.element.addEventListener(s,e)},a.prototype.main=function(){this.create(),this.unHide()},a.prototype.content=function(t){return this.attributes.msg=t,this},a.prototype.ok=function(t){return this.attributes.okLabel=t||"Ok",this},a.prototype.cancel=function(t){return this.attributes.cancel=t||"Cancel",this},a.prototype.sheet=function(){var t=e.createElement("style");return t.appendChild(e.createTextNode(".alertify.toast{padding:0.5em 1em;background-color:rgba(0,0,0,0.67)}.alertify.toast,.alertify.toast a,.alertify.toast a:hover{color:#fff}.alertify.toast a:hover{cursor:pointer}.alertify.toast.fade{transition:all 1s;opacity:1}.alertify.toast.fade.hide{opacity:0}.alertify.toast.slide.bottom{bottom:0}.alertify.toast.slide.bottom.hide{bottom:-36px}.alertify.toast.slide.top{top:0}.alertify.toast.slide.top.hide{top:-36px}.alertify.toast.bottom{position:fixed;top:inherit !important;bottom:0;left:0;right:0}.alertify.toast.top{position:fixed;bottom:inherit !important;top:0;left:0;right:0}.alertify.toast.bottom.right,.alertify.toast.top.right{left:inherit !important}.alertify.toast.bottom.left,.alertify.toast.top.left{right:inherit !important}.alertify .toast-cancel,.alertify .toast-ok{float:right;margin-left:.5em;display:inline-block}\n")),e.head.appendChild(t),t.sheet}(),t.Toast=a}(window,document);